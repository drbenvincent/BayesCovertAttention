# JAGS model for optimal observer detection


model{

	# loop over trials
	for (t in 1:T) {
	
		# sample from the display type distribution
		D[t] ~ dcat(Dprior)

		# loop over stimulus locations
		for (n in 1:N){

			# decide true stimulus values
			theta[n,t] <- equals(n,D[t])
		
			# define the sensory noise variance associated with each stimulus
			vars[n,t] <- ifelse(n==D[t],varT,varD)
		
			# observed
			x[n,t] ~ dnorm( theta[n,t] , 1/(vars[n,t]) )
  		}
	}
}